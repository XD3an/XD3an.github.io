<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="XD3an" content="All-In-One" />
    <meta
      name="description"
      content="Browser Automationï¼ˆç€è¦½å™¨è‡ªå‹•åŒ–ï¼‰æŠ€è¡“æ¯”è¼ƒã€Playwrightã€Seleniumã€NoDriverã€åçˆ¬èŸ²å½è£ã€æ•ˆèƒ½å„ªåŒ–ã€AI agent å¯¦æˆ°åˆ†äº«ã€‚"
    />
    <meta name="author" content="XD3an" />
    <meta
      name="keywords"
      content="XD3an, github.io, All-In-One, Browser Automation, Playwright, Selenium, NoDriver, åçˆ¬èŸ², å½è£, å„ªåŒ–"
    />
    <title>Browser Automation æŠ€è¡“æ¯”è¼ƒèˆ‡å½è£å„ªåŒ–</title>
    <link rel="icon" type="image/x-icon" href="../assets/deer_icon.png" />
    <script
      src="https://use.fontawesome.com/releases/v6.1.0/js/all.js"
      crossorigin="anonymous"
    ></script>
    <link href="../css/styles.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/scripts.js"></script>
    <!-- Highlight.js CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
    />
    <!-- Highlight.js JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <style>
      article pre {
        margin-left: 1.5em;
        margin-right: 1.5em;
        border-radius: 0.5em;
        background: #f8f9fa;
        padding: 1em;
      }

      /* Table of Contents Styles */
      .floating-toc {
        position: fixed;
        top: 20%;
        right: 20px;
        width: 280px;
        max-height: 60vh;
        background: white;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        padding: 16px;
        font-size: 14px;
        z-index: 1000;
        overflow-y: auto;
        transition: all 0.3s ease;
        opacity: 0.95;
      }

      .floating-toc:hover {
        opacity: 1;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
      }

      .floating-toc ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .floating-toc li {
        margin: 2px 0;
      }

      .floating-toc a {
        text-decoration: none;
        color: #6c757d;
        display: block;
        padding: 6px 8px;
        border-radius: 4px;
        transition: all 0.2s ease;
        font-size: 13px;
        line-height: 1.4;
      }

      .floating-toc a:hover {
        background-color: #f8f9fa;
        color: #ff6b35;
        transform: translateX(2px);
      }

      .floating-toc a.active {
        background-color: #ff6b35;
        color: white;
        font-weight: 500;
      }

      .floating-toc .toc-h2 {
        font-weight: 500;
        color: #495057;
      }

      .floating-toc .toc-h3 {
        padding-left: 16px;
        font-size: 12px;
        color: #6c757d;
      }

      @media (max-width: 1200px) {
        .floating-toc {
          right: 10px;
          width: 250px;
        }
      }

      @media (max-width: 768px) {
        .floating-toc {
          display: none;
        }
      }

      html {
        scroll-behavior: smooth;
      }

      .floating-toc::-webkit-scrollbar {
        width: 4px;
      }

      .floating-toc::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 2px;
      }

      .floating-toc::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 2px;
      }

      .floating-toc::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
    </style>
    <!-- Open Graph / Facebook -->
    <meta
      property="og:title"
      content="Browser Automation æŠ€è¡“æ¯”è¼ƒèˆ‡å½è£å„ªåŒ– | XD3an Blog"
    />
    <meta
      property="og:description"
      content="Browser Automationï¼ˆç€è¦½å™¨è‡ªå‹•åŒ–ï¼‰æŠ€è¡“æ¯”è¼ƒã€Playwrightã€Seleniumã€NoDriverã€åçˆ¬èŸ²å½è£ã€æ•ˆèƒ½å„ªåŒ–ã€AI agent å¯¦æˆ°åˆ†äº«ã€‚"
    />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://xd3an.github.io/post/WC.html" />
    <meta property="og:site_name" content="XD3an's All-In-One" />
    <meta
      property="og:image"
      content="https://xd3an.github.io/assets/img/WC/WC-background.jpg"
    />
    <meta property="article:published_time" content="2025-08-24T00:00:00Z" />
    <meta property="article:author" content="XD3an" />
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://xd3an.github.io/post/WC.html"
    />
    <meta
      property="twitter:title"
      content="Browser Automation æŠ€è¡“æ¯”è¼ƒèˆ‡å½è£å„ªåŒ– | XD3an Blog"
    />
    <meta
      property="twitter:description"
      content="Browser Automationï¼ˆç€è¦½å™¨è‡ªå‹•åŒ–ï¼‰æŠ€è¡“æ¯”è¼ƒã€Playwrightã€Seleniumã€NoDriverã€åçˆ¬èŸ²å½è£ã€æ•ˆèƒ½å„ªåŒ–ã€AI agent å¯¦æˆ°åˆ†äº«ã€‚"
    />
    <meta
      property="twitter:image"
      content="https://xd3an.github.io/assets/img/WC/WC-background.jpg"
    />
    <meta property="twitter:creator" content="@d3an_x" />
    <!-- Canonical URL -->
    <link rel="canonical" href="https://xd3an.github.io/post/WC.html" />
    <!-- JSON-LD çµæ§‹åŒ–è³‡æ–™ -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "Browser Automation æŠ€è¡“æ¯”è¼ƒèˆ‡å½è£å„ªåŒ–",
        "description": "Browser Automationï¼ˆç€è¦½å™¨è‡ªå‹•åŒ–ï¼‰æŠ€è¡“æ¯”è¼ƒã€Playwrightã€Seleniumã€NoDriverã€åçˆ¬èŸ²å½è£ã€æ•ˆèƒ½å„ªåŒ–ã€AI agent å¯¦æˆ°åˆ†äº«ã€‚",
        "author": {
          "@type": "Person",
          "name": "XD3an"
        },
        "datePublished": "2025-08-24",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://XD3an.github.io/post/WC.html"
        }
      }
    </script>
  </head>

  <body style="font-size: var(--bs-font-size-base)">
    <!-- Table of Contents æ¼‚æµ®è¦–çª— -->
    <div class="floating-toc" id="floatingToc">
      <div class="toc-content" id="tocContent">
        <ul>
          <li>
            <a href="#browser-automation-history" class="toc-h2"
              >Browser Automation ç°¡å²</a
            >
          </li>
          <li>
            <a href="#framework-comparison" class="toc-h2"
              >Browser Automation æ¡†æ¶æ¯”è¼ƒ</a
            >
          </li>
          <li>
            <a href="#references" class="toc-h3"
              >browser-use - Closer to the Metal: Leaving Playwright for CDP</a
            >
          </li>
          <li>
            <a href="#camouflage-optimization" class="toc-h2"
              >Camouflage & Performance Optimization</a
            >
          </li>
        </ul>
      </div>
    </div>

    <canvas id="magic-canvas"></canvas>
    <script src="/js/magic.js"></script>
    <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
      <div class="container px-4 px-lg-5">
        <a class="navbar-brand" href="../index.html">XD3an's All-In-One</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto py-4 py-lg-0">
            <li class="nav-item">
              <a class="nav-link px-lg-3 py-3 py-lg-4" href="../index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link px-lg-3 py-3 py-lg-4"
                href="https://quiet-hardboard-563.notion.site/b57c59ebaa034e47bd9c92fa2fe1f649?v=37c871eccae34fd7a37171be35d29a0c&pvs=4"
                >Notion</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link px-lg-3 py-3 py-lg-4" href="../contact.html"
                >Contact</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <header
      class="masthead"
      style="
        background-image: url('../assets/img/WC/background.png');
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
      "
    >
      <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <div class="post-heading">
              <h1>Browser Automation æŠ€è¡“æ¯”è¼ƒèˆ‡å½è£å„ªåŒ–</h1>
              <h4 class="subheading">ç€è¦½å™¨è‡ªå‹•åŒ–æ¡†æ¶ã€ååµæ¸¬èˆ‡æ•ˆèƒ½åˆ†äº«</h4>
              <span class="meta">By XD3an</span>
            </div>
          </div>
        </div>
      </div>
    </header>
    <article class="mb-4">
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <p style="font-size: 1.1em; margin-bottom: 2em">
              <b>Browser Automationï¼ˆç€è¦½å™¨è‡ªå‹•åŒ–ï¼‰</b>
              æ˜¯æŒ‡åˆ©ç”¨ç¨‹å¼æ§åˆ¶ç€è¦½å™¨è‡ªå‹•åŸ·è¡Œå„ç¨®æ“ä½œï¼Œå¦‚è‡ªå‹•åŒ–æ¸¬è©¦ã€è³‡æ–™çˆ¬å–ã€è¡¨å–®å¡«å¯«ã€æ¶ç¥¨ã€æ‰¹æ¬¡æ“ä½œç­‰ã€‚ç¾ä»£è‡ªå‹•åŒ–æ¡†æ¶ä¸åƒ…èƒ½æ¨¡æ“¬äººé¡é»æ“Šã€è¼¸å…¥ã€æ»‘å‹•ç­‰è¡Œç‚ºï¼Œé‚„èƒ½è™•ç†è¤‡é›œçš„
              JavaScript å‹•æ…‹ç¶²é ã€é©—è­‰ç¢¼ã€åçˆ¬èŸ²æ©Ÿåˆ¶ã€‚<br /><br />
              é¸æ“‡åˆé©çš„è‡ªå‹•åŒ–æŠ€è¡“æ™‚ï¼Œéœ€è€ƒæ…®
              <b>æ”¯æ´èªè¨€</b>ã€<b>ç€è¦½å™¨å…¼å®¹æ€§</b>ã€<b>ååµæ¸¬èƒ½åŠ›</b>ã€<b
                >æ•ˆèƒ½</b
              >
              åŠ
              <b>ç”Ÿæ…‹ç³»çµ±</b>
              ç­‰å› ç´ ã€‚ä¸‹è¡¨æ•´ç†äº†ä¸»æµæ¡†æ¶çš„ç‰¹è‰²èˆ‡é©ç”¨å ´æ™¯ï¼Œå”åŠ©ä½ å¿«é€Ÿé¸å‹ã€‚
            </p>
            <h2
              id="browser-automation-history"
              style="margin-top: 1.5em; font-size: 1.5em"
            >
              Browser Automation ç°¡å²
            </h2>
            <hr />
            <ul style="margin-top: 0.5em">
              <li>
                <b>1. èŒèŠ½æœŸï¼ˆThe Millenial Era, 1992â€“2003ï¼‰</b>
                <ul>
                  <li>1992ï¼šLynxï¼ˆæ–‡å­—æ¨¡å¼ç€è¦½å™¨ï¼‰ï¼Œå¯ç”¨è…³æœ¬è‡ªå‹•åŒ–æŒ‰éµã€‚</li>
                  <li>
                    1995â€“1997ï¼šNetscape Navigatorï¼ˆUnixï¼‰æ”¯æ´
                    <code>netscape -remote "openURL(http://â€¦)"</code> æ§åˆ¶ GUI
                    ç€è¦½å™¨ã€‚
                  </li>
                  <li>
                    1997ï¼šInternet Explorerï¼ˆWindowsï¼‰COM automation
                    objectï¼ˆInternetExplorer.Applicationï¼‰ï¼ŒVB/VBA/WSH å¯æ“ä½œ
                    DOMã€äº‹ä»¶ã€‚
                  </li>
                  <li>
                    1998ï¼šMercury Astra QuickTestï¼ˆQTP/HP
                    UFTï¼‰ã€WinRunner/XRunnerã€‚
                  </li>
                  <li>
                    1999â€“2002ï¼šHttpUnitï¼ˆheadless/HTMLç´šï¼‰ã€iMacrosï¼ˆéŒ„è£½/é‡æ’­ï¼‰ã€HtmlUnitï¼ˆheadless
                    Java â€œbrowserâ€ï¼‰ã€‚
                  </li>
                  <li>
                    2001â€“2003ï¼šWatirï¼ˆRubyï¼‰å¾ IE COM/OLE æ“´å±•ï¼Œé–‹å§‹æä¾›é€šç”¨
                    APIã€‚
                  </li>
                </ul>
              </li>
              <li>
                <b>2. Selenium å´›èµ·ï¼ˆSelenium Dominance Era, 2004â€“2017ï¼‰</b>
                <ul>
                  <li>2004ï¼šSelenium å•ä¸–ï¼Œé–‹å•Ÿç¾ä»£ç€è¦½å™¨è‡ªå‹•åŒ–æ™‚ä»£ã€‚</li>
                  <li>2009ï¼šSelenium èˆ‡ WebDriver åˆä½µï¼Œæ¨™æº–åŒ– APIã€‚</li>
                  <li>
                    2011â€“2017ï¼šPhantomJSï¼ˆheadless WebKitï¼‰å¡«è£œ headless Chrome
                    å‡ºç¾å‰çš„ç©ºç™½ã€‚
                  </li>
                </ul>
              </li>
              <li>
                <b>3. å‰ Headless æ™‚ä»£ï¼ˆPre-Headless Era, 2011â€“2014ï¼‰</b>
                <ul>
                  <li>
                    2011ï¼šChrome æ¨å‡º remote debuggingï¼ŒWebKit upstream
                    å…¶ä»–ç€è¦½å™¨ä¹Ÿèƒ½æ¡ç”¨ã€‚
                  </li>
                  <li>
                    2012ï¼šWebKit Remote Debugging Protocol v1.0ï¼ŒCDP é››å½¢ã€‚
                  </li>
                  <li>
                    2013â€“2014ï¼šBlink å¾ WebKit åˆ†æ”¯ï¼ŒCDP åœ¨ Chromium
                    ç«¯æˆå½¢ï¼Œchrome.debugger/--remote-debugging å¯ç”¨ã€‚
                  </li>
                  <li>
                    2014ï¼šChrome æ¨å‡º chrome.automation extension
                    APIï¼ˆç„¡éšœç¤™æ¨¹ï¼Œç¨ç«‹æ–¼ CDPï¼‰ã€‚
                  </li>
                </ul>
              </li>
              <li>
                <b>4. Headless Chrome & CDP æ™‚ä»£ï¼ˆ2017â€“2019ï¼‰</b>
                <ul>
                  <li>
                    2017/4ï¼šHeadless Chrome ç™¼è¡¨ï¼ŒPuppeteerï¼ˆNode.js é©…å‹• Chrome
                    via CDPï¼‰å•ä¸–ã€‚
                  </li>
                  <li>2018/1ï¼šPuppeteer 1.0 ç™¼å¸ƒã€‚</li>
                  <li>
                    2018/6ï¼šWebDriver æˆç‚º W3C æ¨™æº–ï¼ŒChromeDriver å¯¦ä½œ
                    WebDriver/BiDiã€‚
                  </li>
                  <li>2019ï¼šGoogle I/O æ¨å»£ Puppeteer ç¾ä»£åŒ–æ¸¬è©¦ã€‚</li>
                </ul>
              </li>
              <li>
                <b
                  >5. å¤šç€è¦½å™¨æ¨™æº–åŒ–æ™‚ä»£ï¼ˆMulti-Browser Standardization Era,
                  2019â€“2024ï¼‰</b
                >
                <ul>
                  <li>
                    2019â€“2020ï¼šPuppeteer æ ¸å¿ƒå·¥ç¨‹å¸«åŠ å…¥ Microsoftï¼Œé–‹ç™¼
                    Playwrightï¼ˆè·¨ç€è¦½å™¨è‡ªå‹•åŒ–ï¼‰ã€‚
                  </li>
                  <li>2020/1ï¼šPlaywright 0.x å…¬é–‹ã€‚</li>
                  <li>2020/5ï¼šPlaywright 1.0 ç™¼å¸ƒã€‚</li>
                  <li>
                    2020/9â€“10ï¼šPlaywright é–‹å§‹å¤šèªè¨€æ”¯æ´ï¼ˆPython ç‰ˆ 9/30
                    å…¬å¸ƒï¼‰ã€‚
                  </li>
                  <li>2023ï¼šChromeDriver æ”¯æ´ WebDriver BiDiã€‚</li>
                  <li>
                    2024ï¼šPuppeteer æ”¯æ´ WebDriver BiDiï¼ŒSelenium æ­£å¼ç´å…¥
                    Puppeteerã€‚
                  </li>
                </ul>
              </li>
              <li>
                <b
                  >6. ç¾ä»£å¤šå…ƒé¸æ“‡ï¼ˆModern Times: A Multitude of Choice,
                  2025â€“ï¼‰</b
                >
                <ul>
                  <li>2025ï¼šå¤šç¨®é«˜å“è³ª driver library å¯é¸ï¼š</li>
                  <li>pydollï¼ˆPython-first Playwright æ›¿ä»£å“ï¼‰</li>
                  <li>go-rodï¼ˆæœ€ä½³ CDP å¯¦ä½œï¼‰ã€chromedpï¼ˆCDP debug å·¥å…·ï¼‰</li>
                  <li>
                    Puppeteerï¼ˆåŸç”Ÿ Chrome è¡Œç‚ºï¼‰ã€Playwrightï¼ˆè·¨ç€è¦½å™¨æ”¯æ´ï¼‰
                  </li>
                  <li>
                    Selenium/Selenium Gridï¼ˆæˆç†Ÿç©©å®šï¼‰ã€Cypressï¼ˆå‚³çµ± WebDriver
                    è‡ªå‹•åŒ–ï¼‰
                  </li>
                  <li>Appiumï¼ˆAndroid/iOS/macOS/Windows ç³»çµ±å±¤è‡ªå‹•åŒ–ï¼‰</li>
                </ul>
              </li>
            </ul>
            <h2
              id="framework-comparison"
              style="margin-top: 1.5em; font-size: 1.5em"
            >
              Browser Automation æ¡†æ¶æ¯”è¼ƒ
            </h2>
            <hr />
            <div class="table-responsive" style="margin-bottom: 2em">
              <table
                class="table table-bordered table-striped align-middle text-center"
              >
                <thead class="table-light">
                  <tr>
                    <th>æŠ€è¡“æ–¹æ¡ˆ</th>
                    <th>æ”¯æ´èªè¨€</th>
                    <th>ç€è¦½å™¨æ”¯æ´</th>
                    <th>æ ¸å¿ƒç‰¹è‰²</th>
                    <th>æœ€ä½³æ‡‰ç”¨å ´æ™¯</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><b>Playwright</b></td>
                    <td>Python, JS/TS, C#, Java</td>
                    <td>Chromium, Firefox, WebKit</td>
                    <td>WebSocket é€šä¿¡ã€è‡ªå‹•ç­‰å¾…ã€ç¶²è·¯æ””æˆª</td>
                    <td>ç¾ä»£åŒ–æ¸¬è©¦èˆ‡çˆ¬èŸ²ã€CI/CD æ•´åˆ</td>
                  </tr>
                  <tr>
                    <td><b>Selenium</b></td>
                    <td>Python, Java, C#, å¤šèªè¨€</td>
                    <td>Chrome, Firefox, Safari, Edge, IE</td>
                    <td>WebDriver + HTTPã€Selenium Gridã€ç”Ÿæ…‹æˆç†Ÿ</td>
                    <td>è·¨ç€è¦½å™¨ä¼æ¥­ç´šè‡ªå‹•åŒ–ã€å…¼å®¹èˆŠç€è¦½å™¨</td>
                  </tr>
                  <tr>
                    <td><b>NoDriver</b></td>
                    <td>Python (async)</td>
                    <td>Chromium</td>
                    <td>ç„¡ WebDriverã€ç•°æ­¥ CDP é€šä¿¡ã€é«˜æ•ˆç‡</td>
                    <td>é«˜æ•ˆååµæ¸¬çˆ¬èŸ²ã€ä¸¦è¡Œå¤šé é¢æŠ“å–</td>
                  </tr>
                  <tr>
                    <td><b>Pyppeteer</b></td>
                    <td>Python wrapper</td>
                    <td>Chromium</td>
                    <td>è¼•é‡ã€DevTools Protocolã€éåŒæ­¥æ”¯æ´</td>
                    <td>JS-heavy ç¶²ç«™æŠ“å–ã€ä½é–‹éŠ·è‡ªå‹•åŒ–</td>
                  </tr>
                  <tr>
                    <td><b>undetected_chromedriver</b></td>
                    <td>Python</td>
                    <td>Chromium-based</td>
                    <td>WebDriver è£œä¸ã€æå‡é¿æª¢æ¸¬èƒ½åŠ›</td>
                    <td>é¢å° Cloudflareã€Akamai ç­‰é˜²ç¦¦æ©Ÿåˆ¶</td>
                  </tr>
                  <tr>
                    <td><b>zendriver</b></td>
                    <td>Python</td>
                    <td>Chromium</td>
                    <td>nodriver forkã€åŠŸèƒ½ä¸€è‡´</td>
                    <td>æ›´ç©æ¥µç¶­è­·çš„ undetected/nodriver æ›¿ä»£å“</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <aside
              style="
                background: #f8f9fa;
                border-left: 4px solid #0d6efd;
                padding: 1em;
                margin: 2em 0;
              "
            >
              <b>Playwright vs NoDriver å¯¦æˆ°æ¯”è¼ƒ</b><br />
              <ul style="margin-top: 0.5em">
                <li>
                  <b>Playwright</b>ï¼šæ”¯æ´å¤šç€è¦½å™¨ï¼ŒAPI ç¾ä»£ä¸”ä¸€è‡´ï¼Œé€Ÿåº¦å¿«ï¼ŒåŸç”Ÿ
                  WebSocket
                  æ§åˆ¶ï¼Œèƒ½è‡ªå‹•ç­‰å¾…å‹•æ…‹å…§å®¹ï¼Œåçˆ¬èŸ²èƒ½åŠ›ä½³ï¼Œé©åˆè¤‡é›œäº’å‹•ã€é©—è­‰ç¢¼ã€è·¨å¹³å°éœ€æ±‚ï¼Œç©©å®šæ€§é«˜ã€‚
                </li>
                <li>
                  <b>NoDriver</b>ï¼šåƒ…æ”¯æ´ Chromeï¼Œç„¡éœ€ WebDriverï¼Œç›´æ¥ç”¨ CDP
                  æ§åˆ¶ï¼Œé€Ÿåº¦æ¥µå¿«ï¼Œå¼·èª¿ååµæ¸¬èƒ½åŠ›ï¼Œé©åˆå¤§é‡ä¸¦ç™¼ã€åçˆ¬èŸ²éœ€æ±‚é«˜çš„å ´æ™¯ï¼Œä½†é‡åˆ°è¤‡é›œ
                  JS æˆ–é©—è­‰ç¢¼æ™‚ï¼ŒPlaywright æ›´ç©©å®šã€‚
                </li>
              </ul>
              <div style="margin-top: 0.5em">
                <b>å»ºè­°ï¼š</b>å¦‚éœ€è·¨ç€è¦½å™¨ã€è¤‡é›œäº’å‹•ã€ç©©å®šæ€§é«˜ â†’
                <b>Playwright</b>ï¼›åªéœ€ Chromeã€æ¥µé€Ÿã€åçˆ¬èŸ²ã€å¯æ¥å—å¶æœ‰ bug â†’
                <b>NoDriver</b>
              </div>
            </aside>
            <aside
              style="
                background: #f8f9fa;
                border-left: 4px solid #198754;
                padding: 1em;
                margin: 2em 0;
              "
            >
              <b>Multiprocess vs Async IO å¯¦æˆ°æ¯”è¼ƒ</b><br />
              <ul style="margin-top: 0.5em">
                <li>
                  <b>Multiprocessï¼ˆå¤šé€²ç¨‹ï¼‰</b
                  >ï¼šå¯åŒæ™‚åˆ©ç”¨å¤šæ ¸å¿ƒï¼Œé©åˆå¤šå¸³è™Ÿ/å¤šå ´æ¶ç¥¨ã€CPU
                  å¯†é›†å‹ä»»å‹™ï¼Œå½¼æ­¤ç¨ç«‹ä¸æœƒäº’ç›¸å¹²æ“¾ï¼Œä½†å•Ÿå‹•/æºé€šæˆæœ¬è¼ƒé«˜ï¼Œè¨˜æ†¶é«”ç”¨é‡å¤§ã€‚
                </li>
                <li>
                  <b>Async IOï¼ˆéåŒæ­¥/ç•°æ­¥ï¼‰</b>ï¼šå–®ä¸€é€²ç¨‹ä¸‹å¯é«˜æ•ˆè™•ç†å¤§é‡ I/O
                  å¯†é›†å‹ä»»å‹™ï¼Œåˆ‡æ›æˆæœ¬ä½ï¼Œè¨˜æ†¶é«”ç”¨é‡å°ï¼Œä½†ç„¡æ³•çœŸæ­£åŒæ™‚åŸ·è¡Œå¤šå€‹
                  CPU å¯†é›†ä»»å‹™ï¼Œé©åˆå–®å¸³è™Ÿé«˜é »æ¶ç¥¨ã€‚
                </li>
              </ul>
              <div style="margin-top: 0.5em">
                <b>å»ºè­°ï¼š</b>å¤šå¸³è™Ÿ/å¤šå ´æ¶ç¥¨å»ºè­°ç”¨
                multiprocessï¼Œå–®å¸³è™Ÿé«˜é »æ¶ç¥¨å¯ç”¨ async
                IOã€‚å…©è€…å¯æ··åˆä½¿ç”¨ï¼Œä¾éœ€æ±‚é¸æ“‡æœ€ä½³æ–¹æ¡ˆã€‚
              </div>
            </aside>
            <h3 id="references" style="margin-top: 2em; font-size: 1.25em">
              ğŸ”— åƒè€ƒé€£çµ
            </h3>
            <ul style="margin-bottom: 2em">
              <li>
                ğŸ“š
                <a
                  href="https://stackoverflow.max-everyday.com/2024/09/selenium-undetected-chromedriver-nodriver/"
                  target="_blank"
                  >Selenium vs NoDriver vs undetected_chromedriver æ¯”è¼ƒ - Max
                  çš„åˆ†äº«</a
                >
              </li>
              <li>
                ğŸ“š
                <a
                  href="https://www.zenrows.com/blog/playwright-vs-selenium"
                  target="_blank"
                  >Selenium vs Playwright 2024 æ¯”è¼ƒ - ZenRows</a
                >
              </li>
              <li>
                ğŸ“š
                <a
                  href="https://www.firecrawl.dev/blog/browser-automation-tools-comparison-2025"
                  target="_blank"
                  >ä¸‰å¤§æ¡†æ¶å°æ¯”ï¼šPlaywright vs Puppeteer vs Selenium -
                  FireCrawl</a
                >
              </li>
              <li>
                ğŸ“š
                <a
                  href="https://www.browserstack.com/guide/playwright-vs-selenium"
                  target="_blank"
                  >Playwright vs Selenium é¸æ“‡æŒ‡å— - BrowserStack</a
                >
              </li>
              <li>
                ğŸ“š
                <a
                  href="https://www.zenrows.com/blog/undetected-chromedriver-vs-selenium-stealth"
                  target="_blank"
                  >undetected-chromedriver vs Selenium Stealth â€“ ZenRows</a
                >
              </li>
            </ul>
            <p>
              åœ¨ August 20 2025 æ™‚ï¼Œbrowser-use
              åœ˜éšŠç™¼è¡¨äº†æ–‡ç« ï¼Œèªªæ˜äº†ä»–å€‘ç‚ºä½•é¸æ“‡å¾ Playwright è½‰å‘
              CDPã€‚ä¸åƒ…æ˜¯å› ç‚ºæ•ˆèƒ½è€ƒé‡ï¼Œé‚„æœ‰å°æ–¼ç´°ç¯€æ§åˆ¶çš„éœ€æ±‚ã€‚browser-use
              é€™æ¬¡çš„æŠ€è¡“è½‰è®Šä¹Ÿæ„å‘³è‘—ç€è¦½å™¨è‡ªå‹•åŒ–æŠ€è¡“æ­£æœå‘æ›´è²¼è¿‘åº•å±¤çš„æ–¹å‘ç™¼å±•ã€‚æ¥µæœ‰å¯èƒ½æœƒç‚ºç›¸é—œç€è¦½å™¨è‡ªå‹•åŒ–ç ”ç©¶å¸¶ä¾†æ–°çš„å•Ÿç™¼ã€‚
            </p>
            <h2
              id="practical-experience"
              style="margin-top: 2em; font-size: 1.5em"
            >
              <a
                href="https://browser-use.com/posts/playwright-to-cdp"
                target="_blank"
                >browser-use - Closer to the Metal: Leaving Playwright for
                CDP</a
              >
            </h2>
            <ul style="margin-top: 0.5em">
              <li>
                <b>ç€è¦½å™¨è‡ªå‹•åŒ–æ­·å²æ¼”é€²ï¼š</b>
                <ul>
                  <li>
                    1990sï¼šLynxï¼ˆæ–‡å­—æ¨¡å¼ï¼‰ã€IE COM ç‰©ä»¶ï¼Œæ—©æœŸåƒ…èƒ½ç°¡å–®è…³æœ¬æ§åˆ¶ã€‚
                  </li>
                  <li>
                    2000sï¼šWatirã€QTPã€Selenium ç­‰å·¥å…·å‡ºç¾ï¼Œé–‹å§‹æ”¯æ´ GUI
                    æ“ä½œã€è·¨ç€è¦½å™¨è‡ªå‹•åŒ–ã€‚
                  </li>
                  <li>
                    2010sï¼šPhantomJSï¼ˆheadlessï¼‰ã€Puppeteerï¼ˆNode.js é©…å‹•
                    Chromeï¼‰ã€Playwrightï¼ˆå¤šèªè¨€ã€å¤šç€è¦½å™¨æ”¯æ´ï¼‰ï¼Œè‡ªå‹•åŒ–æ¡†æ¶é€æ¼¸æˆç†Ÿï¼ŒæŠ½è±¡å±¤æå‡æ˜“ç”¨æ€§ã€‚
                  </li>
                  <li>
                    2020sï¼šå¤šå…ƒé¸æ“‡ï¼ˆpydollã€go-rodã€chromedpã€cdp-useï¼‰ï¼ŒAI
                    é©…å‹•éœ€æ±‚èˆˆèµ·ï¼Œé–‹å§‹è¿½æ±‚æ›´è²¼è¿‘åº•å±¤çš„æ§åˆ¶èˆ‡æ•ˆèƒ½ã€‚
                  </li>
                </ul>
              </li>
              <li>
                <b>browser-use åœ˜éšŠ 2025 å¹´ 8 æœˆç™¼è¡¨å°ˆæ–‡</b>ï¼Œæ·±å…¥åˆ†æ
                Playwright æŠ½è±¡å±¤çš„é™åˆ¶ï¼Œä¸¦èªªæ˜è½‰å‘ç›´æ¥ä½¿ç”¨ CDPï¼ˆChrome DevTools
                Protocolï¼‰çš„åŸå› ã€‚
                <ul>
                  <li>
                    é«˜éšæ¡†æ¶ï¼ˆå¦‚ Playwrightã€Puppeteerï¼‰é›–ç„¶ API
                    ç¾ä»£ã€æ˜“ç”¨ï¼Œé©åˆ QA æ¸¬è©¦èˆ‡ä¸€èˆ¬è‡ªå‹•åŒ–ï¼Œä½†åœ¨ AI
                    agentã€æ‰¹æ¬¡çˆ¬èŸ²ç­‰é«˜é »å ´æ™¯ä¸‹ï¼ŒæŠ½è±¡å±¤æœƒé€ æˆæ•ˆèƒ½ç“¶é ¸ã€ç´°ç¯€æ§åˆ¶å›°é›£ã€‚
                  </li>
                  <li>
                    Playwright æ¶æ§‹ç‚ºå¤šèªè¨€ client é€é Node.js server
                    è½‰ç™¼æŒ‡ä»¤ï¼Œå°è‡´å¤šå±¤
                    relayã€ç‹€æ…‹æ¼‚ç§»ã€æ­»é–ã€ç•°å¸¸è™•ç†ä¸æ˜“ï¼Œå°¤å…¶åœ¨ tab
                    crashã€iframeã€ç•°æ­¥äº‹ä»¶ç­‰æƒ…å¢ƒã€‚
                  </li>
                  <li>
                    browser-use æ¨å‡ºè‡ªå®¶ Python CDP å®¢æˆ¶ç«¯ï¼ˆ<b
                      ><a
                        href="https://github.com/browser-use/cdp-use"
                        target="_blank"
                        >cdp-use</a
                      ></b
                    >ï¼‰ï¼Œç›´æ¥æ ¹æ“šå®˜æ–¹ CDP spec ç”¢ç”Ÿå‹åˆ¥å®‰å…¨
                    bindingï¼Œç„¡æŠ½è±¡å±¤ï¼Œ100% ç›´é€šåº•å±¤ï¼Œä¸¦æ¡äº‹ä»¶é©…å‹•æ¶æ§‹ï¼ˆwatchdog
                    ç›£æ§ï¼‰ï¼Œå¯å³æ™‚è™•ç†ä¸‹è¼‰ã€crashã€DOM è®ŠåŒ–ç­‰ã€‚
                  </li>
                  <li>
                    å…ƒç´ æ“ä½œæ¡ã€Œè¶…ç´šé¸æ“‡å™¨ã€(super-selector) è¨­è¨ˆï¼ŒåŒ…å«
                    targetIdã€frameIdã€backendNodeIdã€åº§æ¨™ç­‰ï¼Œè§£æ±ºè·¨
                    iframe/target æ“ä½œå›°é›£ï¼Œæå‡ agent ç©©å®šæ€§èˆ‡åæ‡‰é€Ÿåº¦ã€‚
                  </li>
                  <li>
                    æ–‡ç« å¼·èª¿ï¼šè‡ªå‹•åŒ–æŠ€è¡“æ­£æœå‘ã€Œæ›´è²¼è¿‘åº•å±¤ã€æ›´ç´°ç·»æ§åˆ¶ã€ç™¼å±•ï¼Œé©åˆé«˜éšéœ€æ±‚è€…åƒè€ƒã€‚ä¸€èˆ¬
                    QA/æ¸¬è©¦ä»å¯ç”¨é«˜éšæ¡†æ¶ï¼Œé€²éš AI/çˆ¬èŸ²å»ºè­°ç›´æ¥ç”¨ CDPã€‚
                  </li>
                </ul>
              </li>
            </ul>
            <a
              href="https://browser-use.com/posts/playwright-to-cdp"
              target="_blank"
              >ğŸ”— browser-use - Closer to the Metal: Leaving Playwright for
              CDP</a
            >
            <h2
              id="camouflage-optimization"
              style="margin-top: 2.5em; font-size: 1.5em"
            >
              Camouflage & Performance Optimizationï¼ˆå½è£èˆ‡æ•ˆèƒ½å„ªåŒ–ï¼‰
            </h2>
            <hr />
            <div style="margin-bottom: 2em">
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>navigator.webdriver éš±è—</b>ï¼š
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>è‡ªå‹•åŒ–ç€è¦½å™¨æœƒè‡ªå‹•å¸¶æœ‰
                      <code>navigator.webdriver = true</code
                      >ï¼Œç¶²ç«™å¯ç”¨æ­¤åˆ¤æ–·æ˜¯å¦ç‚ºæ©Ÿå™¨äººã€‚å°‡å…¶è¨­ç‚º undefined
                      å¯ç¹éå¤§å¤šæ•¸è‡ªå‹•åŒ–åµæ¸¬ã€‚
                    </li>
                    <li>
                      <b>åŸå› ï¼š</b>é€™æ˜¯æœ€å¸¸è¦‹çš„è‡ªå‹•åŒ–æª¢æŸ¥é»ï¼Œå¿…é ˆå„ªå…ˆéš±è—ã€‚
                    </li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">from playwright.sync_api import sync_playwright

with sync_playwright() as playwright:
    browser = playwright.chromium.launch(headless=False)
    page = browser.new_page()
    # æ³¨å…¥ JS éš±è— navigator.webdriver
    page.add_init_script("Object.defineProperty(navigator, 'webdriver', {get: () => undefined})")
    page.goto("https://tixcraft.com/")
    input("æŒ‰ Enter é—œé–‰ç€è¦½å™¨...")
    browser.close()
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>navigator.pluginsã€navigator.languages å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>çœŸå¯¦ç€è¦½å™¨æœƒæœ‰å¤šå€‹ pluginsï¼ˆå¦‚
                      PDFã€Flashï¼‰åŠå¤šèªè¨€ï¼Œæ©Ÿå™¨äººå¸¸ç‚ºç©ºé™£åˆ—æˆ–ç•°å¸¸ã€‚å½é€ å¸¸è¦‹å€¼å¯æ··æ·†æª¢æŸ¥ã€‚
                    </li>
                    <li>
                      <b>åŸå› ï¼š</b>éƒ¨åˆ†ç¶²ç«™æœƒæª¢æŸ¥ plugins/languages
                      ä¾†åˆ¤æ–·æ˜¯å¦ç‚ºæ­£å¸¸ç”¨æˆ¶ã€‚
                    </li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`
Object.defineProperty(navigator, 'webdriver', {get: () => undefined});
Object.defineProperty(navigator, 'plugins', {get: () => [1,2,3]});
Object.defineProperty(navigator, 'languages', {get: () => ['zh-TW', 'zh', 'en']});
`)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>window.chrome ç‰©ä»¶å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>Chrome æœƒæœ‰ window.chrome
                      ç‰©ä»¶ï¼Œæ©Ÿå™¨äººå¸¸ç¼ºå°‘ã€‚è£œä¸Šå¯é¿å…è¢«åˆ¤æ–·ç‚ºè‡ªå‹•åŒ–ã€‚
                    </li>
                    <li><b>åŸå› ï¼š</b>éƒ¨åˆ†ç¶²ç«™ç”¨æ­¤åˆ¤æ–·æ˜¯å¦ç‚ºçœŸå¯¦ Chromeã€‚</li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`
Object.defineProperty(navigator, 'webdriver', {get: () => undefined});
Object.defineProperty(navigator, 'plugins', {get: () => [1,2,3]});
Object.defineProperty(navigator, 'languages', {get: () => ['zh-TW', 'zh', 'en']});
window.chrome = window.chrome || {};
window.chrome.runtime = {};
`)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>Permissions API å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b
                      >è‡ªå‹•åŒ–ç€è¦½å™¨çš„æ¬Šé™æŸ¥è©¢è¡Œç‚ºèˆ‡çœŸå¯¦ç”¨æˆ¶ä¸åŒï¼Œè¦†å¯« query
                      æ–¹æ³•å¯é¿å…ç•°å¸¸å›å‚³ã€‚
                    </li>
                    <li><b>åŸå› ï¼š</b>ç¶²ç«™å¯ç”¨æ¬Šé™æŸ¥è©¢çµæœåˆ¤æ–·è‡ªå‹•åŒ–ã€‚</li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`
const originalQuery = window.navigator.permissions.query;
window.navigator.permissions.query = (parameters) => (
    parameters.name === 'notifications' ?
        Promise.resolve({ state: Notification.permission }) :
        originalQuery(parameters)
);
`)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>Canvas/WebGL/Audio æŒ‡ç´‹å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>ç¶²ç«™å¯ç”¨ç•«å¸ƒã€WebGLã€éŸ³è¨Š API
                      ç”¢ç”ŸæŒ‡ç´‹ï¼Œæ©Ÿå™¨äººå¸¸æœ‰å›ºå®šç‰¹å¾µã€‚è¦†å¯«ç›¸é—œæ–¹æ³•å¯é™ä½æŒ‡ç´‹è¾¨è­˜ç‡ã€‚
                    </li>
                    <li>
                      <b>åŸå› ï¼š</b>é€²éšé˜²çˆ¬ç¶²ç«™æœƒç”¨é€™äº› API ç”¢ç”Ÿå”¯ä¸€æŒ‡ç´‹ã€‚
                    </li>
                  </ul>
                </li>
              </ul>
              <!-- é€²éšå½è£å¯åƒè€ƒ fingerprintjs ç­‰å°ˆæ¡ˆ -->
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>HTTP headers å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>è‡ªå‹•åŒ– context å¸¸ç¼ºå°‘
                      sec-ch-uaã€accept-language ç­‰
                      headersï¼Œæˆ–å…§å®¹ç•°å¸¸ã€‚è‡ªå‹•æ¨å°ä¸¦è£œé½Šå¯æ¨¡æ“¬çœŸå¯¦ç€è¦½å™¨è«‹æ±‚ã€‚
                    </li>
                    <li>
                      <b>åŸå› ï¼š</b>ç¶²ç«™å¯ç”¨ headers çµ„åˆåˆ¤æ–·æ˜¯å¦ç‚ºè‡ªå‹•åŒ–ã€‚
                    </li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">context = browser.new_context(
    user_agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
    locale="zh-TW",
    extra_http_headers={
        "accept-language": "zh-TW,zh;q=0.9,en;q=0.8",
        "sec-ch-ua": '"Chromium";v="120", "Not:A-Brand";v="99"',
        "sec-ch-ua-mobile": "?0",
        "sec-ch-ua-platform": '"Windows"',
    }
)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>hardwareConcurrency/deviceMemory å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>çœŸå¯¦è£ç½®å¤šç‚º 4/8/16 æ ¸å¿ƒã€4/8GB
                      è¨˜æ†¶é«”ï¼Œæ©Ÿå™¨äººå¸¸ç‚ºé è¨­å€¼ã€‚å½é€ å¸¸è¦‹å€¼å¯æ··æ·†æª¢æŸ¥ã€‚
                    </li>
                    <li>
                      <b>åŸå› ï¼š</b
                      >éƒ¨åˆ†ç¶²ç«™æœƒæª¢æŸ¥é€™äº›å±¬æ€§åˆ¤æ–·æ˜¯å¦ç‚ºè™›æ“¬æ©Ÿæˆ–è‡ªå‹•åŒ–ã€‚
                    </li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`
Object.defineProperty(navigator, 'hardwareConcurrency', {get: () => 8});
Object.defineProperty(navigator, 'deviceMemory', {get: () => 8});
`)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>Media Codecsã€chrome.csi/loadTimes å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>çœŸå¯¦ Chrome æ”¯æ´å¤šç¨®å½±éŸ³æ ¼å¼ï¼Œä¸”æœ‰ç‰¹æ®Š
                      APIã€‚è£œä¸Šé€™äº›å±¬æ€§å¯é¿å…è¢«åˆ¤æ–·ç‚ºè‡ªå‹•åŒ–ã€‚
                    </li>
                    <li><b>åŸå› ï¼š</b>é€²éšç¶²ç«™æœƒæª¢æŸ¥é€™äº› API æ˜¯å¦å­˜åœ¨ã€‚</li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`// å½è£ Media Codecs
const origCanPlayType = HTMLMediaElement.prototype.canPlayType;
HTMLMediaElement.prototype.canPlayType = function(type) {
    if(type === 'video/mp4' || type === 'audio/mp3') return 'probably';
    return origCanPlayType.call(this, type);
};
// å½è£ chrome.csi/loadTimes
window.chrome = window.chrome || {};
window.chrome.csi = () => ({ startE: Date.now(), onloadT: Date.now(), pageT: Date.now(), tran: 15 });
window.chrome.loadTimes = () => ({
    requestTime: Date.now()/1000,
    startLoadTime: Date.now()/1000,
    commitLoadTime: Date.now()/1000,
    finishDocumentLoadTime: Date.now()/1000,
    finishLoadTime: Date.now()/1000,
    firstPaintTime: Date.now()/1000,
    navigationType: 'Other',
    wasFetchedViaSpdy: false,
    wasNpnNegotiated: false,
    npnNegotiatedProtocol: '',
    wasAlternateProtocolAvailable: false,
    connectionInfo: 'h2'
});
`)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>Storageï¼ˆlocalStorage/sessionStorageï¼‰éš¨æ©ŸåŒ–</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b>è‡ªå‹•åŒ– context
                      å¸¸ç‚ºä¹¾æ·¨ç‹€æ…‹ï¼ŒçœŸå¯¦ç”¨æˆ¶å¤šæœ‰æ­·å²è³‡æ–™ã€‚éš¨æ©Ÿå¡«å……å¯é™ä½æŒ‡ç´‹é‡è¤‡ã€‚
                    </li>
                    <li>
                      <b>åŸå› ï¼š</b>ç¶²ç«™å¯ç”¨ storage
                      å…§å®¹åˆ¤æ–·æ˜¯å¦ç‚ºæ–°é–‹çš„è‡ªå‹•åŒ–åˆ†é ã€‚
                    </li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`
try {
    localStorage.setItem('bot_rand', Math.random().toString(36).substring(2));
    sessionStorage.setItem('bot_rand', Math.random().toString(36).substring(2));
} catch(e) {}
`)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>æ»‘é¼ /éµç›¤è¡Œç‚ºå½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b
                      >è‡ªå‹•åŒ–æ“ä½œå¸¸ç„¡æ»‘é¼ /éµç›¤äº‹ä»¶ï¼Œæˆ–äº‹ä»¶é–“éš”ç•°å¸¸ã€‚éš¨æ©Ÿè§¸ç™¼
                      mousemoveã€keydownã€focus/blur ç­‰äº‹ä»¶å¯æ¨¡æ“¬äººé¡è¡Œç‚ºã€‚
                    </li>
                    <li><b>åŸå› ï¼š</b>ç¶²ç«™å¯ç”¨è¡Œç‚ºè»Œè·¡åˆ¤æ–·æ˜¯å¦ç‚ºæ©Ÿå™¨äººã€‚</li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`
function randomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
setTimeout(() => {
    // å¤šæ¬¡éš¨æ©Ÿ mousemove
    for (let i = 0; i < randomInt(2, 5); i++) {
        const mouseEvent = new MouseEvent('mousemove', {
            clientX: randomInt(0, window.innerWidth),
            clientY: randomInt(0, window.innerHeight),
            bubbles: true
        });
        document.dispatchEvent(mouseEvent);
    }
    // å¤šæ¬¡éš¨æ©Ÿ keydown
    const keys = ['a', 's', 'd', 'f', 'j', 'k', 'l'];
    for (let i = 0; i < randomInt(1, 3); i++) {
        const key = keys[randomInt(0, keys.length - 1)];
        const keyEvent = new KeyboardEvent('keydown', { key: key, bubbles: true });
        document.dispatchEvent(keyEvent);
    }
}, 500 + Math.random() * 1000);
`)
</code></pre>
              <ul style="margin-bottom: 1.5em">
                <li>
                  <b>Captcha/æ»‘å¡Šé©—è­‰å½è£</b>
                  <ul>
                    <li>
                      <b>åŸç†ï¼š</b
                      >éƒ¨åˆ†ç¶²ç«™æœƒæª¢æŸ¥æ˜¯å¦æœ‰è‡ªå‹•åŒ–è…³æœ¬è™•ç†é©—è­‰ã€‚é ç•™å½è£æ¨™è¨˜å¯é™ä½è¢«ç‰¹æ®Šé©—è­‰è…³æœ¬è­˜ç ´ã€‚
                    </li>
                    <li><b>åŸå› ï¼š</b>é˜²æ­¢ç¶²ç«™ç”¨ JS åµæ¸¬è‡ªå‹•åŒ–è§£é©—è­‰ã€‚</li>
                  </ul>
                </li>
              </ul>
              <pre><code class="language-python">page.add_init_script(`
window.__bot_captcha_placeholder = true;
Object.defineProperty(window, 'isBot', { get: () => false });
Object.defineProperty(window, 'isRobot', { get: () => false });
`)
</code></pre>
            </div>
          </div>
        </div>
      </div>
    </article>
    <!-- Footer-->
    <footer class="border-top">
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <ul class="list-inline text-center">
              <li class="list-inline-item">
                <a href="https://twitter.com/d3an_x">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="https://github.com/XD3an">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <!-- Table of Contents JavaScript -->
    <script>
      function updateActiveSection() {
        const sections = [
          "browser-automation-history",
          "framework-comparison",
          "references",
          "practical-experience",
          "camouflage-optimization",
        ];

        let currentSection = "";
        const scrollPos = window.scrollY + 100;

        sections.forEach((sectionId) => {
          const element = document.getElementById(sectionId);
          if (element && element.offsetTop <= scrollPos) {
            currentSection = sectionId;
          }
        });

        const tocLinks = document.querySelectorAll(".floating-toc a");
        tocLinks.forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href") === "#" + currentSection) {
            link.classList.add("active");
          }
        });
      }

      function scrollToSection(targetId) {
        const targetElement = document.getElementById(targetId.substring(1));
        if (targetElement) {
          const offsetTop = targetElement.offsetTop - 20;
          window.scrollTo({
            top: offsetTop,
            behavior: "smooth",
          });
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        window.addEventListener("scroll", updateActiveSection);

        const tocLinks = document.querySelectorAll(".floating-toc a");
        tocLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("href");
            scrollToSection(targetId);
          });
        });

        updateActiveSection();
      });

      let isDragging = false;
      let dragOffset = { x: 0, y: 0 };

      const tocElement = document.getElementById("floatingToc");

      tocElement.addEventListener("mousedown", function (e) {
        isDragging = true;
        dragOffset.x = e.clientX - tocElement.offsetLeft;
        dragOffset.y = e.clientY - tocElement.offsetTop;
        tocElement.style.cursor = "grabbing";
      });

      document.addEventListener("mousemove", function (e) {
        if (isDragging) {
          tocElement.style.left = e.clientX - dragOffset.x + "px";
          tocElement.style.top = e.clientY - dragOffset.y + "px";
          tocElement.style.right = "auto";
        }
      });

      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          tocElement.style.cursor = "grab";
        }
      });

      tocElement.style.cursor = "grab";
    </script>
  </body>
</html>
